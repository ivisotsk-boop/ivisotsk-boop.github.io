<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://lint.page/kit/4d0fe3.js"
      crossorigin="anonymous"
    ></script>
    <title>Introduction Form</title>
    <link rel="stylesheet" href="styles/default.css" />
    <style>
      /* Scoped vars for this page only */
      #intro-form {
        --input-border: #d1d5db; /* gray-300 */
        --input-bg: transparent;
        --placeholder: #6b7280; /* gray-500 */
        --ring: rgba(59, 130, 246, 0.5); /* blue-500 @ 50% */
        --ring-solid: #3b82f6; /* blue-500 */
        --destructive: #ef4444; /* red-500 */
        --shadow: 0 1px 1px rgba(0, 0, 0, 0.04);
        --radius: 0.375rem; /* rounded-md */
        --focus-ring: 0 0 0 3px var(--ring);
        display: flex;
        flex-wrap: wrap;
      }

      /* Base control */
      #intro-form input[type="text"],
      #intro-form input[type="url"],
      #intro-form input[type="date"],
      #intro-form textarea {
        width: 100%;
        box-sizing: border-box; /* prevent overflow beyond fieldset */
        background: var(--input-bg);
        border: 1px solid var(--input-border);
        border-radius: var(--radius);
        padding: 0.5rem 0.75rem; /* py-2 px-3 */
        font-size: 1rem; /* text-base */
        line-height: 1.5;
        color: #e5e7eb; /* light text for better contrast */
        caret-color: #e5e7eb;
        box-shadow: var(--shadow);
        outline: none;
        transition: color 150ms ease, box-shadow 150ms ease,
          border-color 150ms ease;
      }

      /* Ensure autofilled fields keep high-contrast text color */
      #intro-form input:-webkit-autofill,
      #intro-form textarea:-webkit-autofill {
        -webkit-text-fill-color: #e5e7eb;
        transition: background-color 9999s ease-in-out 0s;
      }

      /* Textarea specifics */
      #intro-form textarea {
        min-height: 4rem; /* min-h-16 */
        resize: vertical;
      }

      /* Placeholder */
      #intro-form input::placeholder,
      #intro-form textarea::placeholder {
        color: var(--placeholder);
      }

      /* Focus ring */
      #intro-form input[type="text"]:focus,
      #intro-form input[type="url"]:focus,
      #intro-form input[type="date"]:focus,
      #intro-form textarea:focus {
        border-color: var(--ring-solid);
        box-shadow: var(--focus-ring);
      }

      /* Disabled */
      #intro-form input:disabled,
      #intro-form textarea:disabled {
        cursor: not-allowed;
        opacity: 0.5;
      }

      /* Error states */
      #intro-form [aria-invalid="true"],
      #intro-form input:invalid,
      #intro-form textarea:invalid {
        border-color: var(--destructive);
      }
      #intro-form [aria-invalid="true"]:focus,
      #intro-form input:invalid:focus,
      #intro-form textarea:invalid:focus {
        box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
      }
    </style>
  </head>
  <body>
    <header>
      <div data-include="components/header.html"></div>
    </header>
    <main>
      <h2>Introduction Form</h2>
      <h3>Please submit the form below.</h3>

      <div id="form-section">
        <form id="intro-form" novalidate>
          <fieldset>
            <legend>Identity</legend>
            <label for="firstName">First Name *</label>
            <input
              id="firstName"
              name="firstName"
              type="text"
              required
              placeholder="First name"
              value="Ivan"
            />

            <label for="middleName">Middle Name or Initial (optional)</label>
            <input
              id="middleName"
              name="middleName"
              type="text"
              placeholder="Middle name or initial"
            />

            <label for="preferredName"
              >Nickname / Preferred Name (optional)</label
            >
            <input
              id="preferredName"
              name="preferredName"
              type="text"
              placeholder="Nickname or preferred name"
            />

            <label for="lastName">Last Name *</label>
            <input
              id="lastName"
              name="lastName"
              type="text"
              required
              placeholder="Last name"
              value="Visotsky"
            />
          </fieldset>

          <fieldset>
            <legend>Mascot</legend>
            <label for="mascotAdj">Mascot Adjective *</label>
            <input
              id="mascotAdj"
              name="mascotAdj"
              type="text"
              required
              placeholder="e.g., Majestic"
              value="Invincible"
            />

            <label for="mascotAnimal">Mascot Animal *</label>
            <input
              id="mascotAnimal"
              name="mascotAnimal"
              type="text"
              required
              placeholder="e.g., Vulture"
              value="Vulture"
            />

            <label for="divider">Divider *</label>
            <input
              id="divider"
              name="divider"
              type="text"
              required
              maxlength="3"
              placeholder="e.g., ~ or | or ♥️"
              value="|"
            />
          </fieldset>

          <fieldset>
            <legend>Picture</legend>
            <label for="picture">Picture (defaults to your image)</label>
            <input id="picture" name="picture" type="file" accept="image/*" />
            <br>
            <label for="pictureCaption">Picture Caption *</label>
            <textarea
              id="pictureCaption"
              name="pictureCaption"
              required
              placeholder="Enter picture caption"
              rows="2"
            >My future wife and I celebrating a friends wedding</textarea
            >
          </fieldset>

          <fieldset>
            <legend>Personal Statement</legend>
            <label for="paragraph1">Paragraph 1 *</label>
            <textarea
              id="paragraph1"
              name="paragraph1"
              required
              placeholder="Write the first paragraph"
              rows="4"
            >My name is Ivan Visotsky and I am a junior undergraduate student at the University of North Carolina at Charlotte. This is my personal home page that I created as part of the ITIS-3135 course better known as Front End Web App Development. I was born in Michigan to a family of immigrants from Estonia. I learned Russian as my first language and was raised with Russian traditions. My family decided to move to Charlotte in 2013 due to the large Russian speaking population and better opportunities.</textarea>

            <label for="paragraph2">Paragraph 2 *</label>
            <textarea
              id="paragraph2"
              name="paragraph2"
              required
              placeholder="Write the second paragraph"
              rows="4"
            >The first time I showed interest in computers was when I would take apart old motherboards from PCs and pull all of the tiny pieces apart. I would wonder what all of the tiny capacitors and circuits were meant to do. Then, after years of not pursuing this interest I started learning about cyber security at the Central Academy of Technology and Arts in Monroe, NC. This was where I realized that I would work in the IT industry. Now I am studying Computer Science at UNCC and am excited to learn as much as I can about programming and software development.</textarea>
          </fieldset>

          <fieldset>
            <legend>Seven Main Bullets</legend>
            <small>(Optional; leave blank to omit in results)</small>
            <label for="bullet1">Personal Background</label>
            <input
              id="bullet1"
              name="bullet1"
              type="text"
              placeholder="Personal Background"
            />

            <label for="bullet2">Academic Background</label>
            <input
              id="bullet2"
              name="bullet2"
              type="text"
              placeholder="Academic Background"
            />

            <label for="bullet3">Professional Background</label>
            <input
              id="bullet3"
              name="bullet3"
              type="text"
              placeholder="Professional Background"
            />

            <label for="bullet4">Course Background</label>
            <input
              id="bullet4"
              name="bullet4"
              type="text"
              placeholder="Course Background"
            />

            <label for="bullet5">Primary Computer Platform</label>
            <input
              id="bullet5"
              name="bullet5"
              type="text"
              placeholder="Primary Computer Platform"
            />

            <label for="bullet6">Funny/Interesting Item (optional)</label>
            <input
              id="bullet6"
              name="bullet6"
              type="text"
              placeholder="Funny/Interesting Item (optional)"
            />

            <label for="bullet7">Something to Share (optional)</label>
            <input
              id="bullet7"
              name="bullet7"
              type="text"
              placeholder="Something to Share (optional)"
            />
          </fieldset>

          <fieldset>
            <legend>Courses</legend>
            <small>(Optional; leave empty if you don't want to add any courses)</small>
            <div id="courses-container"></div>
            <button type="button" id="add-course">Add Course</button>
          </fieldset>

          <fieldset>
            <legend>Acknowledgment</legend>
            <label for="ackStatement">Acknowledgment Statement *</label>
            <textarea
              id="ackStatement"
              name="ackStatement"
              required
              placeholder="Type your acknowledgment statement"
              rows="3"
            >I acknowledge that the information provided is accurate to the best of my knowledge</textarea
            >

            <label for="ackDate">Acknowledgment Date *</label>
            
            <input
              id="ackDate"
              name="ackDate"
              type="date"
              required
              value="2025-08-03"
              data-date-fallback="true"
            />
          </fieldset>

          <fieldset>
            <legend>Quote</legend>
            <label for="quote">Quote</label>
            <input
              id="quote"
              name="quote"
              type="text"
              placeholder='"Strive not to be a success, but rather to be of value."'
            />

            <label for="quoteAuthor">Quote Author</label>
            <input
              id="quoteAuthor"
              name="quoteAuthor"
              type="text"
              placeholder="Albert Einstein"
            />
          </fieldset>

          <fieldset>
            <legend>Links</legend>
            <small>(Optional; leave blank to omit in results)</small>
            <div class="links">
              <div class="link-row">
                <input
                  name="linkText1"
                  type="text"
                  placeholder="Link 1 Text (e.g., LinkedIn)"
                />
                <input name="linkUrl1" type="url" placeholder="https://..." />
              </div>
              <div class="link-row">
                <input name="linkText2" type="text" placeholder="Link 2 Text" />
                <input name="linkUrl2" type="url" placeholder="https://..." />
              </div>
              <div class="link-row">
                <input name="linkText3" type="text" placeholder="Link 3 Text" />
                <input name="linkUrl3" type="url" placeholder="https://..." />
              </div>
              <div class="link-row">
                <input name="linkText4" type="text" placeholder="Link 4 Text" />
                <input name="linkUrl4" type="url" placeholder="https://..." />
              </div>
              <div class="link-row">
                <input name="linkText5" type="text" placeholder="Link 5 Text" />
                <input name="linkUrl5" type="url" placeholder="https://..." />
              </div>
            </div>
          </fieldset>
        </form>
        
        <div class="controls">
          <button type="submit" form="intro-form">Submit</button>
          <button type="reset" form="intro-form">Reset</button>
          <button type="button" id="clear">Clear</button>
        </div>
      </div>

      <div id="results" hidden></div>
    </main>

    <footer>
      <div data-include="components/footer.html"></div>
    </footer>
    <script src="scripts/HTMLInclude.min.js"></script>
    <script>
      // Fallback for browsers that don't support input[type="date"].
      // If unsupported, switch the field to a text input with a YYYY-MM-DD
      // pattern, a small hint, and a submit-time validation guard.
      (function () {
        function supportsDateInput() {
          var i = document.createElement('input');
          i.setAttribute('type', 'date');
          var invalidValue = 'not-a-date';
          i.value = invalidValue;
          // Some browsers change the type back to 'text' if unsupported.
          return i.type === 'date' && i.value !== invalidValue;
        }

        if (!supportsDateInput()) {
          var el = document.getElementById('ackDate');
          if (!el) return;

          // Try to lazy-load a lightweight datepicker (flatpickr).
          // If loading or initialization fails, fall back to the simple
          // text-input + pattern approach implemented below.
          function loadCSS(href) {
            return new Promise(function (resolve, reject) {
              var l = document.createElement('link');
              l.rel = 'stylesheet';
              l.href = href;
              l.onload = function () { resolve(); };
              l.onerror = function () { reject(new Error('CSS load error')); };
              document.head.appendChild(l);
            });
          }

          function loadScript(src) {
            return new Promise(function (resolve, reject) {
              var s = document.createElement('script');
              s.src = src;
              s.async = true;
              s.onload = function () { resolve(); };
              s.onerror = function () { reject(new Error('Script load error')); };
              document.head.appendChild(s);
            });
          }

          var FLATPICKR_CSS = 'https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.css';
          var FLATPICKR_JS = 'https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.js';

          // Attempt to load both resources. If successful, initialize the picker.
          Promise.all([loadCSS(FLATPICKR_CSS), loadScript(FLATPICKR_JS)])
            .then(function () {
              try {
                // initialize flatpickr on the element. Keep allowInput so users
                // can still type a date in the fallback format; dateFormat matches YYYY-MM-DD.
                var opts = { dateFormat: 'Y-m-d', allowInput: true };
                if (el.value) opts.defaultDate = el.value;
                if (window.flatpickr) {
                  window.flatpickr(el, opts);
                } else {
                  // Unexpected: script loaded but flatpickr not available.
                  applyTextFallback(el);
                }
              } catch (e) {
                applyTextFallback(el);
              }
            })
            .catch(function () {
              // Loading failed (offline, blocked CDN, etc.) — use text fallback.
              applyTextFallback(el);
            });

          // The original simple fallback to typed YYYY-MM-DD input.
          function applyTextFallback(el) {
            try {
              el.type = 'text';
            } catch (e) {
              var clone = el.cloneNode(true);
              clone.type = 'text';
              el.parentNode.replaceChild(clone, el);
              el = clone;
            }

            el.placeholder = el.placeholder || 'YYYY-MM-DD';
            el.pattern = el.pattern || '[0-9]{4}-[0-9]{2}-[0-9]{2}';
            el.title = el.title || 'Enter date as YYYY-MM-DD';
            el.setAttribute('inputmode', 'numeric');

            var hint = document.createElement('small');
            hint.textContent = 'If your browser does not show a date picker, enter the date as YYYY-MM-DD.';
            el.parentNode.insertBefore(hint, el.nextSibling);

            var form = el.form;
            if (form) {
              form.addEventListener('submit', function (ev) {
                var v = el.value && el.value.trim();
                if (v && !/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(v)) {
                  ev.preventDefault();
                  el.focus();
                  try {
                    window.dispatchEvent(new CustomEvent('iv-date-invalid', { detail: { el: el } }));
                  } catch (e) {}
                  alert('Please enter the date in YYYY-MM-DD format.');
                }
              });
            }
          }
        }
      })();
    </script>
    <script src="scripts/introduction.js" defer></script>
  </body>
</html>
